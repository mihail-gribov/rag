# Интеграционное тестирование

- Номер: 012
- Depends on: [011]
- Спецификация: `.specification/requirements.md#Критерии приемки`
- Тип: backend
- Приоритет: P2
- Статус: todo

## Definition of Ready
- Все зависимости закрыты; ссылки на спецификацию валидны; Inputs/Outputs описаны; команды запуска/проверки даны.

## Контекст
- Необходимо провести интеграционное тестирование всех компонентов системы
- Документы: `.specification/requirements.md` - раздел "Критерии приемки" (строки 190-246)

## Цель
Провести полное интеграционное тестирование системы согласно критериям приемки.

## Inputs
- Спецификация проекта: `.specification/requirements.md` - раздел "Критерии приемки"
- Полная система: все компоненты созданы в предыдущих задачах
- Тестовый фреймворк: созданный в задаче 010

## Outputs
- Интеграционные тесты для всех сценариев использования
- Проверка критериев приемки AC-001 до AC-006
- Тесты производительности согласно NFR
- Отчет о готовности системы к использованию

## Объем работ (Scope)
1) Создать интеграционные тесты для сценария AC-001 (загрузка и поиск статей)
2) Создать интеграционные тесты для сценария AC-002 (поиск информации)
3) Создать интеграционные тесты для сценария AC-003 (управление статьями)
4) Создать интеграционные тесты для сценария AC-004 (очистка данных)
5) Создать интеграционные тесты для сценария AC-005 (форматирование в Markdown)
6) Создать интеграционные тесты для сценария AC-006 (сохранение в файлы)
7) Провести тесты производительности согласно NFR
8) Создать отчет о готовности системы
- Out of scope: нагрузочное тестирование (не предусмотрено в спецификации)

## Acceptance criteria
- Команда: `pytest tests/integration/` → все интеграционные тесты проходят
- Сценарий AC-001: загрузка 10 статей выполняется за < 2 минут
- Сценарий AC-002: поиск ответов выполняется за < 10 секунд
- Все критерии приемки AC-001 до AC-006 выполняются

## Тесты
- Integration: тесты всех сценариев использования
- Performance: тесты производительности согласно NFR
- E2E: тесты полных пользовательских сценариев

## Команды для проверки
```bash
# запуск интеграционных тестов
pytest tests/integration/
# проверка сценария AC-001
python cli.py fetch "LLM RAG" --max-results 10
# проверка сценария AC-002
python cli.py search "What is RAG?"
# проверка производительности
time python cli.py fetch "machine learning" --max-results 5
```

## Definition of Done
- Lint/type-check/tests/build OK
- Все интеграционные тесты проходят успешно
- Критерии приемки AC-001 до AC-006 выполняются
- Производительность соответствует NFR
- Статус задачи обновлён на `done`

## Риски и допущения
- Предполагается наличие OpenAI API ключа для тестирования
- Предполагается доступ к arXiv.org для загрузки статей
- Предполагается стабильная работа сети во время тестирования

## Ссылка на следующую задачу
- 013
