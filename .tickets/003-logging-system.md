# Реализация системы логирования

- Номер: 003
- Depends on: [002]
- Спецификация: `.specification/architecture.md#Подход к логгированию`
- Тип: backend
- Приоритет: P1
- Статус: todo

## Definition of Ready
- Все зависимости закрыты; ссылки на спецификацию валидны; Inputs/Outputs описаны; команды запуска/проверки даны.

## Контекст
- Необходимо реализовать систему логирования для отслеживания работы приложения
- Документы: `.specification/architecture.md` - раздел "Подход к логгированию" (строки 1686-2045)

## Цель
Создать модульную систему логирования с разделением по типам логов и ротацией файлов.

## Inputs
- Спецификация проекта: `.specification/architecture.md` - раздел "Подход к логгированию"
- Система конфигурации: созданная в задаче 002

## Outputs
- Модуль `logging_config.py` с настройкой логгеров
- Специализированные логгеры для разных типов событий
- Ротация логов по размеру файлов
- Утилиты для анализа и очистки логов

## Объем работ (Scope)
1) Создать функцию настройки логирования с ротацией файлов
2) Реализовать специализированные логгеры (app, performance, user_actions, errors)
3) Добавить логирование метрик модели
4) Создать утилиты для анализа логов
5) Добавить функцию очистки старых логов
6) Интегрировать с системой конфигурации
- Out of scope: интеграция логирования в компоненты системы

## Acceptance criteria
- Команда: `python -c "from logging_config import app_logger; app_logger.info('test')"` → создает запись в log/app.log
- Команда: `python -c "from logging_config import perf_logger; perf_logger.info('perf test')"` → создает запись в log/performance.log
- Ротация логов работает при превышении размера файла

## Тесты
- Unit: тесты создания логгеров
- Integration: тесты записи в разные типы логов
- E2E: тесты ротации файлов

## Команды для проверки
```bash
# проверка основного логгера
python -c "from logging_config import app_logger; app_logger.info('test message')"
# проверка логгера производительности
python -c "from logging_config import perf_logger; perf_logger.info('performance test')"
# проверка анализа логов
python -c "from log_analyzer import print_log_summary"
```

## Definition of Done
- Lint/type-check/tests/build OK
- Система логирования реализована согласно спецификации
- Ротация логов работает корректно
- Статус задачи обновлён на `done`

## Риски и допущения
- Предполагается наличие директории log/ для хранения логов
- Предполагается корректная настройка прав доступа к файлам логов

## Ссылка на следующую задачу
- 004

